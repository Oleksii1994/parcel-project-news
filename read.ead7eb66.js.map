{"mappings":"mkBAAA,IAAAA,EAAAC,EAAA,S,sGAKA,IAAMC,EAAkBC,SAASC,cAAc,cAEzCC,EAAW,YAyBfC,EAAY,IAAAC,QA+BZC,EAAgB,IAAAD,QA/BhB,SAAAE,EAAaC,GACX,IAAMC,EAAaD,EAAME,OAAOC,QAAQ,kBAClCC,EAAkBH,EAAWP,cAAc,2BACjDO,EAAWI,UAAUC,IAAI,6BACzBF,EAAgBC,UAAUC,IAAI,gCAE9B,IACQC,EAQFC,EAAQP,EAAWP,cAAc,mBAAmBe,YACpDC,EAAOT,EAAWP,cAAc,kBAAkBe,YAClDE,EAAOV,EAAWP,cAAc,gBAAgBe,YAChDG,EAAKX,EAAWW,GAChBC,EAAWZ,EAAWP,cAC1B,4BACAe,YACIK,EAAMb,EAAWP,cAAc,gBAAgBqB,KAC/CC,EAAU,CAAEC,KAhBVV,EAAkBN,EACrBP,cAAc,kBACdwB,MAAMC,gBAAgBC,MAAM,IAE/Bb,EAAgBc,OAAO,EAAG,GAC1Bd,EAAgBc,QAAO,EAAI,GACpBd,EAAgBe,KAAK,KAUAd,QAAOE,OAAMC,OAAMC,KAAIC,WAAUC,OACzDS,GAAa,EAAAC,EAAAC,WAAU9B,IAAa,GAE1B4B,EAAWG,MAAK,SAAAC,G,OAAWA,EAAQf,KAAOA,C,MAExD,EAAAY,EAAAI,SAAQjC,EAAWkC,EAAAC,EAAD,CAAIP,GAAAQ,OAAJ,CAAgBf,I,CA6CxC,IAAMgB,EAAW,IAAd,W,sBAhGGC,I,aAuBJJ,EAAAK,EAAA,CAAAC,KAAAvC,GA+BAiC,EAAAK,EAAA,CAAAC,KAAArC,E,iBArDAsC,IAAA,a,MAAA,WAEE,QADiBC,EAAAC,KAAKC,S,IAMxBH,IAAA,yB,MAAA,W,WACuB3C,SAAS+C,iBAAiB,gBAClCC,SAAQ,SAAAC,G,OACnBA,EAAKC,iBAAiB,QAAOd,EAAAe,EAAA,CAAAC,EAAQjD,EAAAG,G,OAKzCqC,IAAA,iB,MAAA,WAEE,IAAMb,GAAa,EAAAC,EAAAC,WAAU9B,GACvBmD,EAAYC,EAAAC,OAAOC,wBAAwB1B,GACjD/B,EAAgB0D,UAAYJ,C,OA4E7B,IAECd,EAASmB,aAEXd,EAAAC,KAAKC,UAAUI,iBAAiB,SAAS,WACvCX,EAASoB,wB,IAGXpB,EAASqB,gB,sCCjHX,aACAC,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QACR,SAAgCC,EAAUC,EAAYC,GAClD,IAAKD,EAAWE,IAAIH,GAChB,MAAM,IAAII,UAAU,kDAExB,OAAOF,C,uCCTX,aACAR,OAAOC,eAAeC,EAAAC,QAAS,aAAc,CACzCC,OAAO,IAEXF,EAAAC,QAAQE,QAER,SAAiCM,EAAKJ,GAClCK,EAAgCP,QAAQM,EAAKJ,GAC7CA,EAAWvD,IAAI2D,E,EAHnB,IAKgCA,EAL5BC,GAK4BD,EALwB1E,EAAA,WAMtC0E,EAAIE,WAAaF,EAAM,CACjCN,QAASM,E","sources":["src/js/add-to-read.js","node_modules/@swc/helpers/lib/_class_private_method_get.js","node_modules/@swc/helpers/lib/_class_private_method_init.js"],"sourcesContent":["import { markup } from './renderMarkup';\nimport { refs } from './refs/refs';\nimport { setToLS, getFromLS } from './local-storage-logic';\nimport { sendEmailVerification } from 'firebase/auth';\n\nconst listArticlesRef = document.querySelector('#accordion');\n\nconst READ_KEY = 'read_news';\n\nclass AddToRead {\n  isHomePage() {\n    const homePage = refs.galleryEl;\n    if (homePage) {\n      return true;\n    }\n    return false;\n  }\n  addListenersToHomePage() {\n    const linkReadMore = document.querySelectorAll('.thumb__link');\n    linkReadMore.forEach(link =>\n      link.addEventListener('click', this.#onReadClick)\n    );\n    // console.log(linkReadMore)\n  }\n\n  renderReadPage() {\n    //рендер маркапу\n    const dataFromLS = getFromLS(READ_KEY);\n    const newMarkup = markup.createGalleryCardMarkup(dataFromLS);\n    listArticlesRef.innerHTML = newMarkup;\n  }\n\n  #onReadClick(event) {\n    const targetItem = event.target.closest('.gallery__item');\n    const alreadyReadText = targetItem.querySelector('.gallery-thumb__already');\n    targetItem.classList.add('gallery__item--background');\n    alreadyReadText.classList.add('gallery-thumb__already--show');\n\n    const img = () => {\n      const resWithoutStart = targetItem\n        .querySelector('.gallery-thumb')\n        .style.backgroundImage.split('');\n\n      resWithoutStart.splice(0, 5);\n      resWithoutStart.splice(-2, 2);\n      return resWithoutStart.join('');\n    };\n    const title = targetItem.querySelector('.gallery__title').textContent;\n    const text = targetItem.querySelector('.gallery__text').textContent;\n    const date = targetItem.querySelector('.thumb__text').textContent;\n    const id = targetItem.id;\n    const category = targetItem.querySelector(\n      '.gallery-thumb__subtitle'\n    ).textContent;\n    const url = targetItem.querySelector('.thumb__link').href;\n    const article = { img: img(), title, text, date, id, category, url };\n    const dataFromLS = getFromLS(READ_KEY) || [];\n    // добавляємо в localStorage\n    const present = dataFromLS.find(article => article.id === id);\n    if (!present) {\n      setToLS(READ_KEY, [...dataFromLS, article]); // dataFromLS.push(article) // setToLS(READ_KEY, dataFromLS);\n    }\n  }\n  #createAccordion() {\n    $('#accordion').accordion({\n      collapsible: true,\n      beforeActivate: function (event, ui) {\n        let currHeader, currContent, isPanelSelected;\n        if (ui.newHeader[0]) {\n          currHeader = ui.newHeader;\n          currContent = currHeader.next('.ui-accordion-content');\n        } else {\n          currHeader = ui.oldHeader;\n          currContent = currHeader.next('.ui-accordion-content');\n        }\n\n        isPanelSelected = currHeader.attr('aria-selected') === 'true';\n\n        currHeader\n          .toggleClass('ui-corner-all', isPanelSelected)\n          .toggleClass(\n            'accordion-header-active ui-state-active ui-corner-top',\n            !isPanelSelected\n          )\n          .attr('aria-selected', (!isPanelSelected).toString());\n\n        currHeader\n          .children('.ui-icon')\n          .toggleClass('ui-icon-triangle-1-e', isPanelSelected)\n          .toggleClass('ui-icon-triangle-1-s', !isPanelSelected);\n\n        currContent.toggleClass('accordion-content-active', !isPanelSelected);\n\n        if (isPanelSelected) {\n          currContent.slideUp();\n        } else {\n          currContent.slideDown();\n        }\n\n        return false;\n      },\n    });\n  }\n}\n\nconst instance = new AddToRead(); // створює об'єкт  AddToRead\n\nif (instance.isHomePage()) {\n  //перевірка чи знаходишся на homePage\n  refs.galleryEl.addEventListener('build', () => {\n    instance.addListenersToHomePage(); //опрацьовую клік на readMore\n  });\n} else {\n  instance.renderReadPage(); //малюю readPage\n}\n\n// if (!dataFromLS.length && notFoundRef !== null) {\n//   notFoundRef.innerHTML = `<h2 class=\"not-found-title hidden\">You haven't added anything to favorite!</h2><img src=\"https://live.staticflickr.com/65535/52770181328_d91f5366f0_z.jpg\">`;\n//   return;\n// }\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodGet;\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateMethodInit(obj, privateSet) {\n    (0, _checkPrivateRedeclaration).default(obj, privateSet);\n    privateSet.add(obj);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n"],"names":["$8MBJY","parcelRequire","$e63f51956629540a$var$listArticlesRef","document","querySelector","$e63f51956629540a$var$READ_KEY","$e63f51956629540a$var$_onReadClick","WeakSet","$e63f51956629540a$var$_createAccordion","$e63f51956629540a$var$onReadClick","event","targetItem","target","closest","alreadyReadText","classList","add","resWithoutStart","title","textContent","text","date","id","category","url","href","article1","img","style","backgroundImage","split","splice","join","dataFromLS","$4LQlN","getFromLS","find","article","setToLS","$parcel$interopDefault","$8nrFW","concat","$e63f51956629540a$var$instance","AddToRead","$fyAfh","this","key","$cqmI4","refs","galleryEl","querySelectorAll","forEach","link","addEventListener","$beht7","_this","newMarkup","$5118m","markup","createGalleryCardMarkup","innerHTML","isHomePage","addListenersToHomePage","renderReadPage","Object","defineProperty","module","exports","value","default","receiver","privateSet","fn","has","TypeError","obj","$b5362597a15e80da$var$_checkPrivateRedeclaration","__esModule"],"version":3,"file":"read.ead7eb66.js.map"}