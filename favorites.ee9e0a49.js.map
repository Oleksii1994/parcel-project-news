{"mappings":"YAAO,IAAMA,EAAO,CAChBC,QAASC,SAASC,cAAc,cAChCC,KAAMF,SAASC,cAAc,uBCOpBE,EAAgB,SAAAC,GAC3B,IACE,IAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GCFvCC,EAAe,gBAyBO,SAAnBC,EAAqBC,GAC5B,GAAIA,EAAMC,OAAOC,QAAQ,aAAc,CACrC,IAAMC,EAAcH,EAAMC,OAAOC,QAAQ,mBAxBJ,SAAlBE,GACrB,IAAIC,EAAelB,EAAcW,IAAiB,GAClDO,EAAaC,KAAKF,GAClBG,YAAYT,EAAcO,E,CA0BxBG,CAJa,CACXC,GAAIN,EAAYO,QAAQD,KAI1BN,EAAYlB,cAAc,2BAA2B0B,UAAUC,IAAI,UACnET,EAAYlB,cAAc,gCAAgC0B,UAAUE,OAAO,S,EAKnD,SAAnBC,EAA0Bd,GACjC,GAAIA,EAAMC,OAAOC,QAAQ,gCAAiC,CACxD,IAAMC,EAAcH,EAAMC,OAAOC,QAAQ,mBA/BL,SAAZa,GAC1B,IACMC,GADa7B,EAAcW,IAAiB,IACTmB,QAAO,SAAAb,G,OAAQA,EAAKK,KAAOM,C,IACpER,YAAYT,EAAckB,E,CA8BxBE,CADef,EAAYO,QAAQD,IAEnCN,EAAYU,Q,EA3B4BM,OAArCC,iBAAiB,QACxB,WACE,IACMC,GADelC,EAAcW,IAAiB,IACxBwB,KAAI,SAAAlB,G,OAAgCA,EC9B7DkB,KACC,SAAAC,G,IACEC,EAAGD,EAAHC,IACAC,EAAKF,EAALE,MACAvC,EAAIqC,EAAJrC,KACAwC,EAAIH,EAAJG,KACAjB,EAAEc,EAAFd,GACAkB,EAAQJ,EAARI,SACAC,EAAGL,EAAHK,I,MACI,WACiDC,OADtCpB,EAAG,0FAEiBoB,OADkBL,EAAI,oDAuBhCK,OAtBUF,EAAS,wtBAuBrBE,OADEJ,EAAM,wCAGNI,OAFF3C,EAAK,oEAGG2C,OADNH,EAAK,+CACKG,OAAJD,EAAI,uD,IAItCE,KAAK,G,IDX+DA,KAAK,IAC5EhD,EAAKiD,UAAUC,UAAYX,C,IA2B7BvC,EAAKiD,UAAUX,iBAAiB,SAAS,SAAApB,GACvCD,EAAqBC,GACrBc,EAA0Bd,E","sources":["src/js/refs/fav-refs.js","src/js/local-storage-logic.js","src/js/add-to-favorite.js","src/js/renderMarkup.js"],"sourcesContent":["export const refs = {\n    newList: document.querySelector('.news-list'),\n    text: document.querySelector('.favorite-notfound'),\n  };\n  ","export const saveToLocal = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nexport const loadFromLocal = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport const removeFromLocal = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Remove state error: ', error.message);\n  }\n};\n\n// export default {\n//   saveToLocal,\n//   loadFromLocal,\n//   removeFromLocal\n// };\n","// import { NewsAPIService } from '../API/fetchAPI';\n// import { NormalizeData } from '../API/api-data-normalaizer';\nimport { renderMarkupGalleryCard } from './renderMarkup';\nimport { refs } from './refs/fav-refs';\nimport {\n  // saveToLocal,\n  loadFromLocal,\n  // removeFromLocal,\n} from './local-storage-logic';\n// import { initFavoriteButton } from './changeBtn';\n\n// ідентифікатор ключа, щоб зберігати обрані новини в локальному сховищі\nconst FAVORITE_KEY = 'favorite_news';\n\n// Функція для додавання новини до обраного списку\nfunction addToFavorite(news) {\n  let favoriteNews = loadFromLocal(FAVORITE_KEY) || [];\n  favoriteNews.push(news);\n  saveToLocal(FAVORITE_KEY, favoriteNews);\n}\n\n// Функція для видалення новини з обраного списку\nfunction removeFromFavorite(newsId) {\n  let favoriteNews = loadFromLocal(FAVORITE_KEY) || [];\n  const updatedFavoriteNews = favoriteNews.filter(news => news.id !== newsId);\n  saveToLocal(FAVORITE_KEY, updatedFavoriteNews);\n}\n\n// Функція для відображення обраних новин на сторінці\nwindow.addEventListener('load', renderFavoriteNews);\nfunction renderFavoriteNews() {\n  const favoriteNews = loadFromLocal(FAVORITE_KEY) || [];\n  const markUp = favoriteNews.map(news => renderMarkupGalleryCard(news)).join('');\n  refs.galleryEl.innerHTML = markUp;\n}\n\n// Додаєм обробник подій для кнопки \"Add to favorite\"\nfunction onAddToFavoriteClick(event) {\n  if (event.target.closest('.box__btn')) {\n    const newsElement = event.target.closest('.gallery__item');\n    const news = {\n      id: newsElement.dataset.id,\n      // Add other properties like title, img, etc.\n    };\n    addToFavorite(news);\n    newsElement.querySelector('.add-to-favorite-button').classList.add('hidden');\n    newsElement.querySelector('.remove-from-favorite-button').classList.remove('hidden');\n  }\n}\n\n// Додаєм обробник подій для кнопки \"Remove from favorite\"\nfunction onRemoveFromFavoriteClick(event) {\n  if (event.target.closest('.remove-from-favorite-button')) {\n    const newsElement = event.target.closest('.gallery__item');\n    const newsId = newsElement.dataset.id;\n    removeFromFavorite(newsId);\n    newsElement.remove();\n  }\n}\n\nrefs.galleryEl.addEventListener('click', event => {\n  onAddToFavoriteClick(event);\n  onRemoveFromFavoriteClick(event);\n});\n\n\n\n// // const buttonElement = document.querySelector('.favorite-button');\n// const favBtn = initFavoriteButton(buttonElement);\n\n// favBtn.addEventListener('click', addToFavorites);\n\n// // Отримуємо список збережених новин з локального сховища браузера\n// let favorites = loadFromLocal(KEY_FAVORITE) || [];\n\n// // Функція для додавання новини до списку збережених новин\n// function addToFavorites() {\n//   if (favorites.length === 0) return;\n\n//   refs.text.classList.add('hidden');\n//   // Перевіряємо, чи новина вже додана до списку збережених новин\n//   const index = favorites.findIndex(item => item.title === news.id);\n\n//   if (index === -1) {\n//     // Якщо новина не додана до списку, то додаємо її\n//     favorites.push({\n//       id: news.id,\n//       date: new Date(),\n//     });\n//     // Змінюємо текст кнопки на \"RemoveFromFavorite\"\n//     // favBtn.textContent = 'Remove from favorite';\n//   } else {\n//     // Якщо новина вже додана до списку, то видаляємо її\n//     favorites.splice(index, 1);\n//     // Змінюємо текст кнопки на \"AddToFavorite\"\n//     // favBtn.textContent = 'Add to favorite';\n//   }\n//   // Рендерем новину і додаєм її у список\n//   let markup = favorites.map(renderMarkupGalleryCard).join('');\n//   refs.newList.innerHTML = markup;\n// }\n\n// onChangeButton(favorites);\n\n// addToFavorites();\n\n// // Зберігаємо список збережених новин в локальному сховищі браузера\n// // localStorage.setItem(KEY_FAVORITE, JSON.stringify(favorites));\n","export function renderMarkupGalleryCard(arr) {\n  return arr\n    .map(\n      ({\n        img,\n        title,\n        text,\n        date,\n        id,\n        category,\n        url,\n      }) => `<li id=\"${id}\" class=\"gallery__item\">\n  <div class=\"gallery-thumb\" style=\"background-image: url('${img}')\">\n      <p class=\"gallery-thumb__subtitle\">${category}</p>\n      <p class=\"gallery-thumb__already\">\n        Already read\n        <svg width=\"18\" height=\"18\">\n          <use href=\"./images/icon-card.svg#icon-check\"></use>\n        </svg>\n      </p>\n    <button type=\"button\" class=\"gallery-thumb__btn\">\n      <p class=\"gallery-thumb__name add\" \n        >Add to favorite\n        <svg width=\"16\" height=\"16\">\n          <use href=\"./images/icon-card.svg#icon-like-icon\"></use>\n        </svg>\n      </p>\n      <p class=\"gallery-thumb__name remove\"\n        >Remove from favorite\n        <svg width=\"16\" height=\"16\">\n          <use href=\"./images/icon-card.svg#icon-like-icon\"></use>\n        </svg>\n      </p>\n    </button>\n  </div>\n    <h3 class=\"gallery__title\">${title}</h3>\n    <p class=\"gallery__text\">${text}</p>\n      <div class=\"thumb\">\n        <p class=\"thumb__text\">${date}</p>\n        <a class=\"thumb__link\" href=\"${url}\" target=\"_blank\">Read more</a>\n      </div>\n</li>`\n    )\n    .join('');\n}\n\n// export { renderMarkupGalleryCard }\n// function renderMarkupGalleryCard({ img, title, text, date, id, categorie }) {\n//   return `<li id=\"${id}\" class=\"gallery__item\">\n//   <div class=\"box\">\n//     <img src=\"${img}\" class=\"box__img\"/>\n//       <p class=\"box__subtitle\">${categorie}</p>\n//       <p class=\"box__already\">\n//         Already read\n//         <svg width=\"18\" height=\"18\">\n//           <use href=\"./images/icon-card.svg#icon-check\"></use>\n//         </svg>\n//       </p>\n//     <button type=\"button\" class=\"box__btn favorite-btn\">\n//       <span class=\"box__text add-button\"\n//         >Add to favorite\n//         <svg width=\"16\" height=\"16\" class=\"box__icon favorite-icon\">\n//           <use href=\"./images/icon-card.svg#icon-like-icon\"></use>\n//         </svg>\n//       </span>\n//       <span class=\"box__text delete-button\"\n//         >Remove from favorite\n//         <svg width=\"16\" height=\"16\" class=\"box__icon remove-icon\">\n//           <use href=\"./images/icon-card.svg#icon-like-icon\"></use>\n//         </svg>\n//       </span>\n//     </button>\n//   </div>\n//     <h3 class=\"gallery__title\">${title}</h3>\n//     <p class=\"gallery__text\">${text}</p>\n//       <div class=\"thumb\">\n//         <p class=\"thumb__text\">${date}</p>\n//         <a class=\"thumb__link\" href=\"\" target=\"_blank\">Read more</a>\n//       </div>\n// </li>`;\n// }\n"],"names":["$fd77a5d1bdaf37cc$export$21666b427502ea6d","newList","document","querySelector","text","$379428ea50191b08$export$212a9ac3fe1d1094","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","$959d9972f598b799$var$FAVORITE_KEY","$959d9972f598b799$var$onAddToFavoriteClick","event","target","closest","newsElement","news","favoriteNews","push","saveToLocal","$959d9972f598b799$var$addToFavorite","id","dataset","classList","add","remove","$959d9972f598b799$var$onRemoveFromFavoriteClick","newsId","updatedFavoriteNews","filter","$959d9972f598b799$var$removeFromFavorite","window","addEventListener","markUp","map","param","img","title","date","category","url","concat","join","galleryEl","innerHTML"],"version":3,"file":"favorites.ee9e0a49.js.map"}