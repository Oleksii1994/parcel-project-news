{"mappings":"AAAO,MAAMA,EAAO,CAChBC,QAASC,SAASC,cAAc,cAChCC,KAAMF,SAASC,cAAc,uB,SCFjC,MAAME,EAMJC,iBACMC,KAAKC,OAAOC,UAAUC,SAAS,iBACjCH,KAAKI,gBACIJ,KAAKC,OAAOC,UAAUC,SAAS,eACxCH,KAAKK,oB,CAITD,gBACEJ,KAAKC,OAAOK,YAAc,kBAC1BN,KAAKC,OAAOC,UAAUK,OAAO,iBAC7BP,KAAKC,OAAOC,UAAUM,IAAI,a,CAG5BH,qBACEL,KAAKC,OAAOK,YAAc,uBAC1BN,KAAKC,OAAOC,UAAUK,OAAO,cAC7BP,KAAKC,OAAOC,UAAUM,IAAI,gB,CAtB5BC,YAAYC,GACVV,KAAKC,OAASS,EACdV,KAAKC,OAAOC,UAAUM,IAAI,gBAC1BR,KAAKC,OAAOU,iBAAiB,SAAS,IAAMX,KAAKD,kB,GAuB9C,SAA4BW,GACjC,OAAO,IAAIZ,EAAeY,E,EChBb,CAAmBA,eAE3BC,iBAAiB,QAASC,GAGuB,IAApDC,ECRyB,CAAAC,IAC3B,IACE,MAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GDG7B,CARK,aAQ0B,GAGC,SAAvCX,IACP,GAAyB,IAArBC,EAAUW,OAAc,OAE5B/B,EAAKI,KAAKK,UAAUM,IAAI,UAE2B,MAA7CiB,EAAQZ,EAAUa,WAAUC,GAAQA,EAAKC,QAAUC,KAAKD,SAEhD,IAAVH,EAEmCZ,EAA3BiB,KAAK,CACbF,MAAOC,KAAKD,MACZG,KAAM,IAAIC,OAM4BnB,EAA9BoB,OAAOR,EAAO,GAKI,IAA1BS,EAASrB,EAAUsB,IAAIC,EAAAC,yBAAyBC,KAAK,IACzD7C,EAAKC,QAAQ6C,UAAYL,C,CAG3BnC,eAAec,GAEfD","sources":["src/js/refs/fav-refs.js","src/js/changeBtn.js","src/js/add-to-favorite.js","src/js/local-storage-logic.js"],"sourcesContent":["export const refs = {\n    newList: document.querySelector('.news-list'),\n    text: document.querySelector('.favorite-notfound'),\n  };\n  ","class FavoriteButton {\n  constructor(buttonElement) {\n    this.button = buttonElement;\n    this.button.classList.add('favorite-btn');\n    this.button.addEventListener('click', () => this.onChangeButton());\n  }\n  onChangeButton() {\n    if (this.button.classList.contains('delete-button')) {\n      this.setToFavorite();\n    } else if (this.button.classList.contains('add-button')) {\n      this.removeFromFavorite();\n    }\n  }\n\n  setToFavorite() {\n    this.button.textContent = 'Add to favorite';\n    this.button.classList.remove('delete-button');\n    this.button.classList.add('add-button');\n  }\n\n  removeFromFavorite() {\n    this.button.textContent = 'Remove from favorite';\n    this.button.classList.remove('add-button');\n    this.button.classList.add('delete-button');\n  }\n}\n\nexport function initFavoriteButton(buttonElement) {\n  return new FavoriteButton(buttonElement);\n}\n\n\n// import { initFavoriteButton } from \"../js/changeBtn\";\n\n// function renderGalleryCards(cardsData) {\n//   const cardsContainer = document.querySelector(\".gallery__item-container\");\n//   cardsContainer.innerHTML = cardsData.map(renderMarkupGalleryCard).join(\"\");\n\n//   cardsData.forEach((cardData) => {\n//     const cardElement = document.getElementById(cardData.id);\n//     const favoriteButtonElement = cardElement.querySelector(\".favorite-btn\");\n//     initFavoriteButton(favoriteButtonElement);\n//   });\n// }\n\n// // Замініть `cardsData` на масив об'єктів з даними карточок\n// const cardsData = [\n//   // ...\n// ];\n\n// renderGalleryCards(cardsData);","import { refs } from '../js/refs/fav-refs';\nimport {\n  saveToLocal,\n  loadFromLocal,\n  removeFromLocal,\n} from '../js/local-storage-logic';\nimport { renderMarkupGalleryCard } from '../js/renderMarkup';\n// import { fetchSearchArticles } from '../js/API/fetchAPI';\nimport { initFavoriteButton } from '../js/changeBtn';\nconst KEY_FAVORITE = 'favorite';\n\n// const buttonElement = document.querySelector('.favorite-button');\nconst favBtn = initFavoriteButton(buttonElement);\n\nfavBtn.addEventListener('click', addToFavorites);\n\n// Отримуємо список збережених новин з локального сховища браузера\nlet favorites = loadFromLocal(KEY_FAVORITE) || [];\n\n// Функція для додавання новини до списку збережених новин\nfunction addToFavorites() {\n  if (favorites.length === 0) return;\n\n  refs.text.classList.add('hidden');\n  // Перевіряємо, чи новина вже додана до списку збережених новин\n  const index = favorites.findIndex(item => item.title === news.title);\n\n  if (index === -1) {\n    // Якщо новина не додана до списку, то додаємо її\n    favorites.push({\n      title: news.title,\n      date: new Date(),\n    });\n    // Змінюємо текст кнопки на \"RemoveFromFavorite\"\n    // favBtn.textContent = 'Remove from favorite';\n  } else {\n    // Якщо новина вже додана до списку, то видаляємо її\n    favorites.splice(index, 1);\n    // Змінюємо текст кнопки на \"AddToFavorite\"\n    // favBtn.textContent = 'Add to favorite';\n  }\n  // Рендерем новину і додаєм її у список\n  let markup = favorites.map(renderMarkupGalleryCard).join('');\n  refs.newList.innerHTML = markup;\n}\n\nonChangeButton(favorites);\n\naddToFavorites();\n\n// Зберігаємо список збережених новин в локальному сховищі браузера\n// localStorage.setItem(KEY_FAVORITE, JSON.stringify(favorites));\n","export const saveToLocal = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nexport const loadFromLocal = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport const removeFromLocal = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Remove state error: ', error.message);\n  }\n};\n\n// export default {\n//   saveToLocal,\n//   loadFromLocal,\n//   removeFromLocal\n// };\n"],"names":["$305b0dbe6c929078$export$21666b427502ea6d","newList","document","querySelector","text","$8f5f6f7c8e13a92d$var$FavoriteButton","onChangeButton","this","button","classList","contains","setToFavorite","removeFromFavorite","textContent","remove","add","constructor","buttonElement","addEventListener","$e5d2680a157c9235$var$addToFavorites","$e5d2680a157c9235$var$favorites","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","length","index","findIndex","item","title","news","push","date","Date","splice","markup","map","$8fa1c37b43059e2f$exports","renderMarkupGalleryCard","join","innerHTML"],"version":3,"file":"favorites.1d0638ae.js.map"}