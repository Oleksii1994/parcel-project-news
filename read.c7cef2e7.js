function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},t.parcelRequired7c6=o),o.register("fKrXO",(function(t,r){var n=o("hl3Cc"),l=o("8iF6T"),i=o("cky31"),a=o("3ILHO"),s=o("335mm"),c=o("lL5zp"),d=o("jJkRO");e(c).init();const u="read_news";var f=new WeakSet,g=new WeakSet,y=new WeakSet,_=new WeakSet;function h(e){const t=e,r=t.map((e=>e.LSDate)),n=r.filter(((e,t)=>r.indexOf(e)===t)),o=[];return n.forEach((e=>{const r=t.filter((t=>t.LSDate===e));o.push({LSDate:e,news:r})})),console.log(o),o}function m(e,t){const r=document.querySelector("#accordion");e.forEach((e=>{const n=t.replaceAll("{{title}}",e.LSDate).replaceAll("{{card}}",i.markupForFavoritesAndRead.createGalleryCardMarkup(e.news)),o=document.createElement("div");r.appendChild(o),o.innerHTML=n}))}function p(e){const t=e.target.closest(".gallery__item"),r=t.querySelector(".gallery-thumb__already");t.style.opacity="0.7",r.classList.add("gallery-thumb__already--show");const n=t.querySelector(".gallery__title").textContent,o=t.querySelector(".gallery__text").textContent,l=t.querySelector(".thumb__text").textContent,i=t.id,a=t.querySelector(".gallery-thumb__subtitle").textContent,c=(new Date).toLocaleDateString(),d=t.querySelector(".thumb__link").href,f={img:(()=>{const e=t.querySelector(".gallery-thumb").style.backgroundImage.split("");return e.splice(0,5),e.splice(-2,2),e.join("")})(),title:n,text:o,date:l,id:i,category:a,url:d,LSDate:c},g=(0,s.getFromLS)(u)||[];console.log(c);g.find((e=>e.id===i))||(0,s.setToLS)(u,[...g,f],[c])}function S(){$("#accordion").accordion({header:"h2",collapsible:!0})}const b=new class{isHomePage(){return!!a.refs.galleryEl}addListenersToHomePage(){document.querySelectorAll(".thumb__link").forEach((t=>t.addEventListener("click",e(n)(this,y,p))))}renderReadPage(){const t=(0,s.getFromLS)(u),r=document.querySelector("#markup-template"),o=r.innerHTML;r.remove();const l=e(n)(this,f,h).call(this,t);e(n)(this,g,m).call(this,l,o),e(n)(this,_,S).call(this)}constructor(){e(l)(this,f),e(l)(this,g),e(l)(this,y),e(l)(this,_)}};b.isHomePage()?a.refs.galleryEl.addEventListener("build",(()=>{b.addListenersToHomePage()})):b.renderReadPage();const L={readGalleryList:document.querySelector("#read-news-list")};"Read"===document.title&&function(e){const t=(0,s.getFromLS)(u),r=new URL(o("DnHGg"));if(d.notFoundRef.classList.add("not-found-box-hidden"),!t.length)return d.notFoundRef.classList.remove("not-found-box-hidden"),void window.scrollTo({top:0,behavior:"smooth"});if(null===e)return;e.addEventListener("click",(function(e){const t=e.target.closest(".gallery-thumb__btn");if(!t)return;const n=e.target.closest(".gallery__item"),o=n.querySelector(".gallery__title").textContent,l=n.querySelector(".gallery__text").textContent,i=n.querySelector(".thumb__text").textContent,a=n.id,c=n.querySelector(".gallery-thumb__subtitle").textContent,u=n.querySelector(".thumb__link").href,f={img:(()=>{const e=n.querySelector(".gallery-thumb").style.backgroundImage.split("");return e.splice(0,5),e.splice(-2,2),e.join("")})(),title:o,text:l,date:i,id:a,category:c,url:u},g=(0,s.getFromLS)(d.FAVORITE_KEY);if(g.find((e=>e.id===a))){const e=g.filter((e=>e.id!==a));return(0,s.setToLS)(d.FAVORITE_KEY,e),void(t.innerHTML=`<p class="gallery-thumb__name add">Add to favorite<svg width="16" height="16"><use href="${r}#icon-like-icon"></use></svg></p>`)}const y=[...g,{...f}];(0,s.setToLS)(d.FAVORITE_KEY,y),t.innerHTML=`<p class="gallery-thumb__name add">Remove from favorite<svg width="16" height="16"><use href="${r}#icon-like"></svg></p>`}))}(L.readGalleryList)})),o.register("hl3Cc",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}})),o.register("8iF6T",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){n.default(e,t),t.add(e)};var r,n=(r=o("7K24o"))&&r.__esModule?r:{default:r}})),o.register("DnHGg",(function(e,t){e.exports=new URL(o("kyEFX").resolve("bwyUR"),import.meta.url).toString()})),o("kyEFX").register(JSON.parse('{"fcKtx":"read.c7cef2e7.js","ilJtq":"read.983afc32.css","bwyUR":"icon-card.42ade37b.svg"}'));
//# sourceMappingURL=read.c7cef2e7.js.map
