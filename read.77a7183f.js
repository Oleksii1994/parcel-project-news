!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a.register("jLBgW",(function(t,r){var n=a("8MBJY"),o=a("beht7"),l=a("fyAfh"),i=a("a2hTj"),u=a("8nrFW"),c=a("5118m"),d=a("cqmI4"),s=a("4LQlN"),f="read_news",h=new WeakSet,g=new WeakSet,y=new WeakSet,p=new WeakSet;function m(e){var t=e,r=t.map((function(e){return e.LSDate})),n=r.filter((function(e,t){return r.indexOf(e)===t})),a=[];return n.forEach((function(e){var r=t.filter((function(t){return t.LSDate===e}));a.push({LSDate:e,news:r})})),console.log(a),a}function _(e,t){var r=document.querySelector("#accordion");e.forEach((function(e){var n=t.replaceAll("{{title}}",e.LSDate).replaceAll("{{card}}",c.markupForFavoritesAndRead.createGalleryCardMarkup(e.news)),a=document.createElement("div");r.appendChild(a),a.innerHTML=n}))}function v(t){var r=t.target.closest(".gallery__item"),n=r.querySelector(".gallery-thumb__already");r.classList.add("gallery__item--background"),n.classList.add("gallery-thumb__already--show");var a,o=r.querySelector(".gallery__title").textContent,l=r.querySelector(".gallery__text").textContent,i=r.querySelector(".thumb__text").textContent,c=r.id,d=r.querySelector(".gallery-thumb__subtitle").textContent,h=(new Date).toLocaleDateString(),g=r.querySelector(".thumb__link").href,y={img:(a=r.querySelector(".gallery-thumb").style.backgroundImage.split(""),a.splice(0,5),a.splice(-2,2),a.join("")),title:o,text:l,date:i,id:c,category:d,url:g,LSDate:h},p=(0,s.getFromLS)(f)||[];console.log(h),p.find((function(e){return e.id===c}))||(0,s.setToLS)(f,e(u)(p).concat([y]),[h])}function S(){$("#accordion").accordion({header:"h2",collapsible:!0})}var b=new(function(){"use strict";function t(){e(n)(this,t),e(l)(this,h),e(l)(this,g),e(l)(this,y),e(l)(this,p)}return e(i)(t,[{key:"isHomePage",value:function(){return!!d.refs.galleryEl}},{key:"addListenersToHomePage",value:function(){var t=this;document.querySelectorAll(".thumb__link").forEach((function(r){return r.addEventListener("click",e(o)(t,y,v))}))}},{key:"renderReadPage",value:function(){var t=(0,s.getFromLS)(f),r=document.querySelector("#markup-template"),n=r.innerHTML;r.remove();var a=e(o)(this,h,m).call(this,t);e(o)(this,g,_).call(this,a,n),e(o)(this,p,S).call(this)}}]),t}());b.isHomePage()?d.refs.galleryEl.addEventListener("build",(function(){b.addListenersToHomePage()})):b.renderReadPage()})),a.register("beht7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}})),a.register("fyAfh",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){n.default(e,t),t.add(e)};var r,n=(r=a("5k7tO"))&&r.__esModule?r:{default:r}}))}();
//# sourceMappingURL=read.77a7183f.js.map
