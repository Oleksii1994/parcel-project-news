{"mappings":"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","sources":["src/js/add-to-read.js","node_modules/@swc/helpers/lib/_class_private_method_get.js","node_modules/@swc/helpers/lib/_class_private_method_init.js","src/js/firebace/faribece-for-read.js","node_modules/@parcel/runtime-js/lib/runtime-3b985601edb2676a.js","node_modules/@parcel/runtime-js/lib/runtime-1f5ba7ababe8da22.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport { initializeApp, firebase } from 'firebase/app';\nimport {\n  getDatabase,\n  set,\n  ref,\n  update,\n  get,\n  child,\n  userId,\n} from 'firebase/database';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n} from 'firebase/auth';\n\n//========================================================\n\nimport { markupForFavoritesAndRead } from './renderMarkup';\nimport { refs } from './refs/refs';\nimport { setToLS, getFromLS } from './local-storage-logic';\nimport Aos from 'aos';\nimport 'aos/dist/aos.css';\nimport { notFoundRef, FAVORITE_KEY, checkLS } from './add-to-favorite';\nimport { addToReadNews } from './firebace/faribece-for-read';\n\n//========================================================\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDD_Eh4tyvM30ivpTHWqfHo7r2h0gDev4Y',\n  authDomain: 'project-goit2023-js.firebaseapp.com',\n  databaseURL: 'https://project-goit2023-js-default-rtdb.firebaseio.com',\n  projectId: 'project-goit2023-js',\n  storageBucket: 'project-goit2023-js.appspot.com',\n  messagingSenderId: '407142734195',\n  appId: '1:407142734195:web:6d45ec3cdde16415370d06',\n  measurementId: 'G-VMY0EQ75TG',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst database = getDatabase(app);\nconst auth = getAuth();\nconst usersRef = ref(database, 'users');\n\n//==============================================================\n\n// import { sendEmailVerification } from 'firebase/auth';\nAos.init();\n\nconst READ_KEY = 'read_news';\n\nclass AddToRead {\n  isHomePage() {\n    const homePage = refs.galleryEl;\n    if (homePage) {\n      return true;\n    }\n    return false;\n  }\n  addListenersToHomePage() {\n    const linkReadMore = document.querySelectorAll('.thumb__link');\n    linkReadMore.forEach(link =>\n      link.addEventListener('click', this.#onReadClick)\n    );\n    // console.log(linkReadMore)\n  }\n\n  renderReadPage() {\n    //рендер маркапу\n    const dataFromLS = getFromLS(READ_KEY);\n    const markupTemplate = document.querySelector('#markup-template');\n    const template = markupTemplate.innerHTML;\n    markupTemplate.remove();\n    const result = this.#getDateLocalStorege(dataFromLS);\n    this.#generateAccordionHTML(result, template);\n    this.#createAccordion();\n  }\n\n  #getDateLocalStorege(dataFromLS) {\n    const objects = dataFromLS;\n    const dates = objects.map(obj => obj.LSDate);\n    const uniqueDates = dates.filter(\n      (LSDate, index) => dates.indexOf(LSDate) === index\n    );\n    const result = [];\n\n    uniqueDates.forEach(LSDate => {\n      const news = objects.filter(obj => obj.LSDate === LSDate);\n      result.push({ LSDate: LSDate, news: news });\n    });\n    return result;\n  }\n\n  #generateAccordionHTML(result, template) {\n    const listArticlesRef = document.querySelector('#accordion');\n    result.forEach(el => {\n      const section = template\n        .replaceAll('{{title}}', el.LSDate)\n        .replaceAll(\n          '{{card}}',\n          markupForFavoritesAndRead.createGalleryCardMarkup(el.news)\n        );\n\n      const div = document.createElement('div');\n      listArticlesRef.appendChild(div);\n      div.innerHTML = section;\n    });\n  }\n\n  #onReadClick(event) {\n    const targetItem = event.target.closest('.gallery__item');\n    const alreadyReadText = targetItem.querySelector('.gallery-thumb__already'); //Додали з Яною стилі на li щоб з'являлась надпис Alredy Read\n    // targetItem.classList.add('gallery__item--background'); //додаємо блюр на картку\n    targetItem.style.opacity = '0.7';\n    alreadyReadText.classList.add('gallery-thumb__already--show'); //opacity на картку\n\n    const img = () => {\n      const resWithoutStart = targetItem\n        .querySelector('.gallery-thumb')\n        .style.backgroundImage.split('');\n\n      resWithoutStart.splice(0, 5);\n      resWithoutStart.splice(-2, 2);\n      return resWithoutStart.join('');\n    };\n    const title = targetItem.querySelector('.gallery__title').textContent;\n    const text = targetItem.querySelector('.gallery__text').textContent;\n    const date = targetItem.querySelector('.thumb__text').textContent;\n    const id = targetItem.id;\n    const category = targetItem.querySelector(\n      '.gallery-thumb__subtitle'\n    ).textContent;\n    const LSDate = new Date().toLocaleDateString();\n    const url = targetItem.querySelector('.thumb__link').href;\n    const article = {\n      img: img(),\n      title,\n      text,\n      date,\n      id,\n      category,\n      url,\n      LSDate,\n    };\n    const dataFromLS = getFromLS(READ_KEY) || [];\n    console.log(LSDate);\n    // добавляємо в localStorage\n    const present = dataFromLS.find(article => article.id === id);\n\n    console.log(article);\n\n    // ========================================================================\n    const user = auth.currentUser;\n    if (user) {\n      const userId = user.uid;\n      addToReadNews(article, userId);\n    }\n\n    //=========================================================================\n\n    if (!present) {\n      setToLS(READ_KEY, [...dataFromLS, article], [LSDate]); // dataFromLS.push(article) // setToLS(READ_KEY, dataFromLS);\n    }\n  }\n  #createAccordion() {\n    $('#accordion').accordion({ header: 'h2', collapsible: true });\n  }\n}\n\nexport const instance = new AddToRead(); // створює об'єкт  AddToRead\n\nif (instance.isHomePage()) {\n  //перевірка чи знаходишся на homePage\n  refs.galleryEl.addEventListener('build', () => {\n    instance.addListenersToHomePage(); //опрацьовую клік на readMore\n  });\n} else {\n  instance.renderReadPage(); //малюю readPage\n}\n\nconst readRefs = {\n  readGalleryList: document.querySelector('#read-news-list'),\n};\n\nif (document.title === 'Read') {\n  onLoadReadPage(readRefs.readGalleryList);\n}\n\nfunction onLoadReadPage(ref) {\n  const dataFromLS = getFromLS(READ_KEY);\n  const svgA = new URL('../images/icon-card.svg', import.meta.url);\n  const svgB = 'icon-like';\n  const svgC = 'icon-like-icon';\n  const svgD = 'icon-check';\n  notFoundRef.classList.add('not-found-box-hidden');\n  if (!dataFromLS.length) {\n    notFoundRef.classList.remove('not-found-box-hidden');\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n    return;\n  }\n  if (ref === null) return;\n  ref.addEventListener('click', onGalleryClick);\n\n  // ref.innerHTML = markupForFavoritesAndRead.createGalleryCardMarkup(dataFromLS);\n\n  function onGalleryClick(event) {\n    const targetBtn = event.target.closest('.gallery-thumb__btn');\n    if (!targetBtn) {\n      return;\n    }\n\n    const targetItem = event.target.closest('.gallery__item');\n\n    const img = () => {\n      const resWithoutStart = targetItem\n        .querySelector('.gallery-thumb')\n        .style.backgroundImage.split('');\n\n      resWithoutStart.splice(0, 5);\n      resWithoutStart.splice(-2, 2);\n\n      return resWithoutStart.join('');\n    };\n    const title = targetItem.querySelector('.gallery__title').textContent;\n    const text = targetItem.querySelector('.gallery__text').textContent;\n    const date = targetItem.querySelector('.thumb__text').textContent;\n    const id = targetItem.id;\n    const category = targetItem.querySelector(\n      '.gallery-thumb__subtitle'\n    ).textContent;\n    const url = targetItem.querySelector('.thumb__link').href;\n    const article = { img: img(), title, text, date, id, category, url };\n    const dataFromLS = getFromLS(FAVORITE_KEY);\n    // добавляємо в localStorage\n    const present = dataFromLS.find(article => article.id === id);\n\n    // ===========================================================\n    // const user = auth.currentUser;\n    // if (user) {\n    //   const userId = user.uid;\n    //   addOrDeleteFavoriteNews(article, userId, targetBtn);\n    // }\n    // ===========================================================\n\n    if (present) {\n      const newData = dataFromLS.filter(article => article.id !== id);\n      setToLS(FAVORITE_KEY, newData);\n\n      // ===========================================================\n      // const user = auth.currentUser;\n      // if (user) {\n      //   const userId = user.uid;\n      //   addOrDeleteFavoriteNews(article, userId, targetBtn);\n      // }\n      // ===========================================================\n\n      targetBtn.innerHTML = `<p class=\"gallery-thumb__name add\">Add to favorite<svg width=\"16\" height=\"16\"><use href=\"${svgA}#${svgC}\"></use></svg></p>`;\n      return;\n    }\n\n    const newData = [...dataFromLS, { ...article }];\n    setToLS(FAVORITE_KEY, newData);\n    targetBtn.innerHTML = `<p class=\"gallery-thumb__name add\">Remove from favorite<svg width=\"16\" height=\"16\"><use href=\"${svgA}#${svgB}\"></svg></p>`;\n  }\n}\n\n// if (!dataFromLS.length && notFoundRef !== null) {\n//   notFoundRef.innerHTML = `<h2 class=\"not-found-title hidden\">You haven't added anything to favorite!</h2><img src=\"https://live.staticflickr.com/65535/52770181328_d91f5366f0_z.jpg\">`;\n//   return;\n// }\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodGet;\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateMethodInit(obj, privateSet) {\n    (0, _checkPrivateRedeclaration).default(obj, privateSet);\n    privateSet.add(obj);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import Notiflix from 'notiflix';\nimport { initializeApp, firebase } from 'firebase/app';\nimport {\n  getDatabase,\n  set,\n  ref,\n  update,\n  get,\n  child,\n  userId,\n} from 'firebase/database';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n} from 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDD_Eh4tyvM30ivpTHWqfHo7r2h0gDev4Y',\n  authDomain: 'project-goit2023-js.firebaseapp.com',\n  databaseURL: 'https://project-goit2023-js-default-rtdb.firebaseio.com',\n  projectId: 'project-goit2023-js',\n  storageBucket: 'project-goit2023-js.appspot.com',\n  messagingSenderId: '407142734195',\n  appId: '1:407142734195:web:6d45ec3cdde16415370d06',\n  measurementId: 'G-VMY0EQ75TG',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst database = getDatabase(app);\nconst auth = getAuth();\nconst usersRef = ref(database, 'users');\n\nexport function addToReadNews(article, userId) {\n  const currentUser = auth.currentUser;\n\n  // console.log(currentUser);\n\n  get(usersRef)\n    .then(snapshot => {\n      const newsArr = [];\n      let articleExists = false;\n      snapshot.forEach(childSnapshot => {\n        const user = childSnapshot.val();\n        if (user.email.toLowerCase() === currentUser.email.toLowerCase()) {\n          // check if email matches\n          user.newsReadData.forEach(item => {\n            if (item.id === article.id) {\n              articleExists = true;\n            }\n          });\n\n          user.newsReadData.forEach(item => {\n            newsArr.push(item);\n          });\n        }\n      });\n\n      if (articleExists) {\n        console.log('Article already exists');\n        Notiflix.Notify.success('News already added to read');\n        return;\n      }\n      newsArr.push(article);\n      const filteredNewsArr = newsArr.filter(Boolean);\n\n      Notiflix.Notify.success('News added to read');\n\n      return update(ref(database, `users/${userId}`), {\n        newsReadData: filteredNewsArr,\n      })\n        .then(() => {\n          newsArr.splice(0, newsArr.length);\n        })\n        .catch(error => {\n          Notiflix.Notify.failure('Something went wrong, please try again');\n          console.error(error);\n        });\n    })\n    .catch(error => {\n      Notiflix.Notify.failure('Something went wrong, please try again');\n      console.error(error);\n    });\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('ep4Vl') + require('./helpers/bundle-manifest').resolve(\"6u7XD\");","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"ep4Vl\\\":\\\"read.3388eb36.js\\\",\\\"ilJtq\\\":\\\"read.983afc32.css\\\",\\\"6u7XD\\\":\\\"icon-card.42ade37b.svg\\\"}\"));"],"names":["$8MBJY","parcelRequire","$e63f51956629540a$var$app","$fkNhc","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","$e63f51956629540a$var$database","$cokon","getDatabase","$e63f51956629540a$var$auth","$gQOBw","getAuth","ref","$parcel$interopDefault","$iXDbJ","init","$e63f51956629540a$var$READ_KEY","$e63f51956629540a$var$_getDateLocalStorege","WeakSet","$e63f51956629540a$var$_generateAccordionHTML","$e63f51956629540a$var$_onReadClick","$e63f51956629540a$var$_createAccordion","$e63f51956629540a$var$getDateLocalStorege","dataFromLS","objects","dates","map","obj","LSDate","uniqueDates","filter","index","indexOf","result","forEach","news","push","$e63f51956629540a$var$generateAccordionHTML","template","listArticlesRef","document","querySelector","el","section","replaceAll","$5118m","markupForFavoritesAndRead","createGalleryCardMarkup","div","createElement","appendChild","innerHTML","$e63f51956629540a$var$onReadClick","event","targetItem","target","closest","alreadyReadText","style","opacity","classList","add","resWithoutStart","title","textContent","text","date","id","category","Date","toLocaleDateString","url","href","article1","img","backgroundImage","split","splice","join","$4LQlN","getFromLS","console","log","present","find","article","user","currentUser","userId1","uid","$1RvkV","addToReadNews","setToLS","$8nrFW","concat","$e63f51956629540a$var$createAccordion","$","accordion","header","collapsible","$e63f51956629540a$export$9544d5bb712b01ea","AddToRead","$fyAfh","this","key","$cqmI4","refs","galleryEl","querySelectorAll","link","addEventListener","$beht7","_this","markupTemplate","remove","call","isHomePage","addListenersToHomePage","renderReadPage","$e63f51956629540a$var$readRefs","readGalleryList","ref1","dataFromLS1","svgA","URL","$cQoPk","notFoundRef","length","window","scrollTo","top","behavior","targetBtn","article2","FAVORITE_KEY","newData","newData1","$dDDEV","$e63f51956629540a$var$onLoadReadPage","Object","defineProperty","module","exports","value","default","receiver","privateSet","fn","has","TypeError","$b5362597a15e80da$var$_checkPrivateRedeclaration","__esModule","$6JpON","$15b30c796302f042$var$app","$15b30c796302f042$var$database","$15b30c796302f042$var$auth","$15b30c796302f042$var$usersRef","$15b30c796302f042$export$c9d8abbd053546ec","get","then","snapshot","newsArr","articleExists","childSnapshot","val","email","toLowerCase","newsReadData","item","Notify","success","filteredNewsArr","Boolean","update","catch","error","failure","getBundleURL","resolve","register","JSON","parse"],"version":3,"file":"read.3388eb36.js.map"}