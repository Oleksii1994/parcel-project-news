function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequired7c6=r),r.register("fExtF",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),r.register("iaRLo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),r.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}}));const o=[{width:768,useClass:"mobile"},{width:1279,useClass:"tablet"}];function i(){const e=o,t=window.innerWidth,n=e.find((e=>t<=e.width));let a;a=n?n.useClass:"desktop",document.body.classList.forEach((e=>{e.startsWith("screen-")&&document.body.classList.remove(e)})),document.body.classList.add(`screen-${a}`)}window.addEventListener("resize",i),window.addEventListener("DOMContentLoaded",i);var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e,t){var n=c.default(e,t,"get");return l.default(e,n)};var c=u(r("fExtF")),l=u(r("iaRLo"));function u(e){return e&&e.__esModule?e:{default:e}}var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e,t,n){f.default(e,t),t.set(e,n)};var h,f=(h=r("7K24o"))&&h.__esModule?h:{default:h};var m=new WeakMap,p=new WeakMap,g=new WeakMap,y=new WeakMap,b=new WeakMap;const v=new class{async fetchSearchArticles(){const t=new URLSearchParams({q:this.searchQuery,fq:this.filterQuery,"api-key":e(s)(this,y),page:this.currentPage,offset:8}),n=`${e(s)(this,m)}${e(s)(this,p)}${new URLSearchParams(t)}`,a=await fetch(n);this.errorHandle(a);const{response:{docs:r,meta:o}}=await a.json();return console.log(class{static formatDate(e){const t=new Date(e);return`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`}static searchData(e){return e.map((({abstract:e,headline:t,pub_date:n,uri:a,multimedia:r,section_name:o})=>{let i="";return i=0!==r.length?`https://www.nytimes.com/${r[0].url}`:"https://media.tenor.com/_3uPSgb8o5gAAAAC/ukraine-ukraine-flag.gif",{title:t.print_headline,text:e,date:this.formatDate(n),img:i,category:o,id:a}}))}}.searchData(r)),{docs:r,meta:o}}async fetchCategories(){const t=`${e(s)(this,m)}${e(s)(this,g)}api-key=${e(s)(this,y)}`,n=await fetch(t);this.errorHandle(n,n.statusText);const{results:a}=await n.json();return a}async fetchPopularArticles(){const t=`${e(s)(this,m)}${e(s)(this,b)}api-key=${e(s)(this,y)}`,n=await fetch(t);this.errorHandle(n,n.statusText);const{results:a}=await n.json();return a}async fetchArticlesByCategory(){const t=`news/v3/content/nyt/${this.category}.json?`,n=`${e(s)(this,m)}${t}api-key=${e(s)(this,y)}`,a=await fetch(n);this.errorHandle(a,a.statusText);const{results:r}=await a.json();return r}errorHandle(e,t){if(!e.ok)throw new Error(`Sorry, an error occurred: ${t}`)}set query(e){this.searchQuery=e}get query(){return this.searchQuery}get page(){return this.currentPage}set page(e){this.currentPage=e}constructor(){e(d)(this,m,{writable:!0,value:"https://api.nytimes.com/svc/"}),e(d)(this,p,{writable:!0,value:"search/v2/articlesearch.json?"}),e(d)(this,g,{writable:!0,value:"news/v3/content/section-list.json?"}),e(d)(this,y,{writable:!0,value:"kkEdLmiWAben4vvAV9iKuhykdEAlksXW"}),e(d)(this,b,{writable:!0,value:"mostpopular/v2/viewed/7.json?"}),this.searchQuery="",this.filterQuery="",this.category="all",this.currentPage=1}};v.query="covid",v.fetchSearchArticles();(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),a=()=>{const n="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!n),e.classList.toggle("is-open");bodyScrollLock[n?"enableBodyScroll":"disableBodyScroll"](document.body)};t.addEventListener("click",a),n.addEventListener("click",a),window.matchMedia("(min-width: 768px)").addEventListener("change",(n=>{n.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))}))})();const _={body:document.querySelector("body"),themeSwitch:document.querySelector("#theme-switch"),lightThemeBox:document.querySelector(".light-theme-box"),darkThemeBox:document.querySelector(".dark-theme-box"),formSearch:document.querySelector(".form-search")},w={LIGHT_THEME:"light-theme",DARK_THEME:"dark-theme"};function E(e){localStorage.setItem("theme",e)}_.themeSwitch.addEventListener("change",(function(){_.body.classList.contains(w.LIGHT_THEME)?(_.body.classList.replace(w.LIGHT_THEME,w.DARK_THEME),_.darkThemeBox.classList.add("active"),_.lightThemeBox.classList.remove("active"),E(w.DARK_THEME)):(_.body.classList.replace(w.DARK_THEME,w.LIGHT_THEME),_.darkThemeBox.classList.remove("active"),_.lightThemeBox.classList.add("active"),E(w.LIGHT_THEME))})),(localStorage.getItem("theme")||w.LIGHT_THEME)===w.LIGHT_THEME?(_.lightThemeBox.classList.add("active"),_.body.classList.add(w.LIGHT_THEME)):(_.themeSwitch.checked=!0,_.darkThemeBox.classList.add("active"),_.body.classList.add(w.DARK_THEME));var L;function S(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";return e<10?t+e:e},M=function(e){return"".concat(e.getFullYear(),"-").concat(T(e.getMonth()+1),"-").concat(T(e.getDate()))},x=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},D=function(e){return new Promise((function(t){var n=[],a=$(e).map((function(e){return{date:e.date,iso:e.iso,type:"previous"}})),r=H(e).map((function(e){return{date:e.date,iso:e.iso,type:"current"}}));n=n.concat(a).concat(r);var o=q(e,n.length).map((function(e){return{date:e.date,iso:e.iso,type:"next"}}));t(n.concat(o))}))},k=function(e){return function(t){return Array(e).fill().map(t)}},H=function(e){var t=x(e);return k(t)((function(t,n){var a=n+1;return e.setDate(a),{date:a,iso:M(e)}}))},$=function(e){var t,n,a=e.getMonth(),r=e.getFullYear(),o=Math.min(a-1,11),i=new Date(r,o),s=x(i),c=s-(t=e,n=new Date(t.getFullYear(),t.getMonth(),1).toDateString().substring(0,3),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].indexOf(n))+1;return k(s-c+1)((function(e,t){var n=c+t;return i.setDate(n),{date:n,iso:M(i)}}))},q=function(e,t){var n=42-t,a=e.getMonth()+1===12?0:e.getMonth()+1,r=0===a?e.getFullYear()+1:e.getFullYear(),o=new Date(r,a);return k(n)((function(e,t){var n=t+1;return o.setDate(n),{date:n,iso:M(o)}}))};L=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return n=[{key:"getDates",value:function(e){return new Promise((function(t){return t(D(e).then((function(e){return e.map((function(e){return e}))})))}))}},{key:"getMatrix",value:function(e){return new Promise((function(t){t(D(e).then((function(e){return e.reduce((function(e,t,n){return(n%7==0?e.push([t]):e[e.length-1].push(t))&&e}),[])})))}))}}],S((t=e).prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const A={currentDate:document.querySelector(".month__data"),daysTag:document.querySelector(".day"),prevIcon:document.querySelector(".month__arrow--prev"),nextIcon:document.querySelector(".month__arrow--next"),inputEl:document.querySelector(".calendar__input"),dataEl:document.querySelector(".calendar__text"),pickerEl:document.querySelector(".picker"),iconDownEl:document.querySelector(".calendar__down"),iconUpEl:document.querySelector(".calendar__up"),iconStartEl:document.querySelector(".calendar__icon--start")},j=["January","February","March","April","May","June","July","August","September","October","November","December"];let P=new Date,C=P.getFullYear(),I=P.getMonth(),F=P.getDate(),O="",R="";console.log(A.inputEl);const B=new(e(L));A.inputEl.addEventListener("click",(function(e){U(),A.pickerEl.classList.toggle("hidden"),A.iconDownEl.classList.toggle("hidden"),A.iconUpEl.classList.toggle("hidden"),A.pickerEl.classList.contains("hidden")||(A.inputEl.classList.add("calendar__open"),A.iconUpEl.classList.add("calendar__open"),A.iconStartEl.classList.add("calendar__open"))}));const U=async()=>{const e=new Date(C,I);A.daysTag.innerHTML="",R="";for(const{date:t,iso:n,type:a}of await B.getDates(e))W(t,n,a);A.daysTag.innerHTML=R,A.currentDate.innerText=`${j[I]} ${C}`};function W(e,t,n){R+="previous"===n?`<li class="day__item inactive--prev">${e}</li>`:"current"===n?`<li class="day__item">${e}</li>`:`<li class="day__item inactive--next">${e}</li>`}function Y(e,t,n){return-1===t&&(t=11,e-=1),12===t&&(t=0,e+=1),A.dataEl.textContent=`${n.toString().padStart(2,"0")}/${(t+1).toString().padStart(2,"0")}/${e}`,O=A.dataEl.textContent,A.pickerEl.classList.add("hidden"),A.iconDownEl.classList.remove("hidden"),A.iconUpEl.classList.add("hidden"),A.inputEl.classList.remove("calendar__open"),A.iconUpEl.classList.remove("calendar__open"),A.iconStartEl.classList.remove("calendar__open"),localStorage.setItem("CURRENT_DATA",JSON.stringify(O)),O}A.prevIcon.addEventListener("click",(()=>{I-=1,I<0||I>11?(date=new Date(C,I,(new Date).getDate()),C=date.getFullYear(),I=date.getMonth()):P=new Date,U()})),A.nextIcon.addEventListener("click",(()=>{I+=1,I<0||I>11?(date=new Date(C,I,(new Date).getDate()),C=date.getFullYear(),I=date.getMonth()):P=new Date,U()})),A.daysTag.addEventListener("click",(e=>{if("LI"===e.target.nodeName)return e.target.classList.contains("inactive--prev")?(A.currDay=+e.target.textContent,Y(C,I-1,F)):e.target.classList.contains("inactive--next")?(A.currDay=+e.target.textContent,Y(C,I+1,F)):(F=+e.target.textContent,Y(C,I,F))}));const G=Math.ceil(50/6),K=document.querySelector(".pagination");for(let e=1;e<=G;e++)G<8&&K.insertAdjacentHTML("beforeend",`<button class="pagination__page-number-btn">${e}</button>`);G>=8&&K.insertAdjacentHTML("beforeend",`<button class="pagination__page-number-btn">1</button>\n    <button class="pagination__page-number-btn">2</button>\n    <button class="pagination__page-number-btn">3</button>\n    <button class="pagination__page-number-btn">4</button>\n    <button class="pagination__page-number-btn">5</button>\n    <button class="pagination__page-number-btn">...</button>\n    <button class="pagination__page-number-btn">${G}</button>`),_.formSearch.addEventListener("submit",(function(e){e.preventDefault(),console.log("submit")})),document.addEventListener("click",(function(e){if(!document.body.classList.contains("screen-mobile"))return;const t=e.target.closest(".form-search");if(!t){if(_.formSearch.elements.searchValue.value.trim())return;return _.formSearch.elements.searchValue.style.transform="scale(0)",_.formSearch.elements.button.style.left="",void(_.formSearch.elements.button.style.right="14px")}t.elements.searchValue.style.transform="scale(1)",t.elements.button.style.left="14px",t.elements.button.style.right=""}));
//# sourceMappingURL=index.045f42f1.js.map
