!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return r[e]=o,t.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,t){n[e]=t},t.parcelRequired7c6=o),o.register("jLBgW",(function(t,r){var n=o("8MBJY"),l=o("beht7"),a=o("fyAfh"),i=o("a2hTj"),u=o("dDDEV"),c=o("8nrFW"),d=o("5118m"),s=o("cqmI4"),f=o("4LQlN"),g=o("iXDbJ"),h=o("cQoPk");e(g).init();var y="read_news",_=new WeakSet,m=new WeakSet,v=new WeakSet,p=new WeakSet;function b(e){var t=e,r=t.map((function(e){return e.LSDate})),n=r.filter((function(e,t){return r.indexOf(e)===t})),o=[];return n.forEach((function(e){var r=t.filter((function(t){return t.LSDate===e}));o.push({LSDate:e,news:r})})),console.log(o),o}function S(e,t){var r=document.querySelector("#accordion");e.forEach((function(e){var n=t.replaceAll("{{title}}",e.LSDate).replaceAll("{{card}}",d.markupForFavoritesAndRead.createGalleryCardMarkup(e.news)),o=document.createElement("div");r.appendChild(o),o.innerHTML=n}))}function L(t){var r=t.target.closest(".gallery__item"),n=r.querySelector(".gallery-thumb__already");r.style.opacity="0.7",n.classList.add("gallery-thumb__already--show");var o,l=r.querySelector(".gallery__title").textContent,a=r.querySelector(".gallery__text").textContent,i=r.querySelector(".thumb__text").textContent,u=r.id,d=r.querySelector(".gallery-thumb__subtitle").textContent,s=(new Date).toLocaleDateString(),g=r.querySelector(".thumb__link").href,h={img:(o=r.querySelector(".gallery-thumb").style.backgroundImage.split(""),o.splice(0,5),o.splice(-2,2),o.join("")),title:l,text:a,date:i,id:u,category:d,url:g,LSDate:s},_=(0,f.getFromLS)(y)||[];console.log(s),_.find((function(e){return e.id===u}))||(0,f.setToLS)(y,e(c)(_).concat([h]),[s])}function x(){$("#accordion").accordion({header:"h2",collapsible:!0})}var w=new(function(){"use strict";function t(){e(n)(this,t),e(a)(this,_),e(a)(this,m),e(a)(this,v),e(a)(this,p)}return e(i)(t,[{key:"isHomePage",value:function(){return!!s.refs.galleryEl}},{key:"addListenersToHomePage",value:function(){var t=this;document.querySelectorAll(".thumb__link").forEach((function(r){return r.addEventListener("click",e(l)(t,v,L))}))}},{key:"renderReadPage",value:function(){var t=(0,f.getFromLS)(y),r=document.querySelector("#markup-template"),n=r.innerHTML;r.remove();var o=e(l)(this,_,b).call(this,t);e(l)(this,m,S).call(this,o,n),e(l)(this,p,x).call(this)}}]),t}());w.isHomePage()?s.refs.galleryEl.addEventListener("build",(function(){w.addListenersToHomePage()})):w.renderReadPage();var E={readGalleryList:document.querySelector("#read-news-list")};"Read"===document.title&&function(t){var r=(0,f.getFromLS)(y),n=new URL(o("5R40L"));if(h.notFoundRef.classList.add("not-found-box-hidden"),!r.length)return h.notFoundRef.classList.remove("not-found-box-hidden"),void window.scrollTo({top:0,behavior:"smooth"});if(null===t)return;t.addEventListener("click",(function(t){var r=t.target.closest(".gallery-thumb__btn");if(r){var o,l=t.target.closest(".gallery__item"),a=l.querySelector(".gallery__title").textContent,i=l.querySelector(".gallery__text").textContent,d=l.querySelector(".thumb__text").textContent,s=l.id,g=l.querySelector(".gallery-thumb__subtitle").textContent,y=l.querySelector(".thumb__link").href,_={img:(o=l.querySelector(".gallery-thumb").style.backgroundImage.split(""),o.splice(0,5),o.splice(-2,2),o.join("")),title:a,text:i,date:d,id:s,category:g,url:y},m=(0,f.getFromLS)(h.FAVORITE_KEY);if(m.find((function(e){return e.id===s}))){var v=m.filter((function(e){return e.id!==s}));return(0,f.setToLS)(h.FAVORITE_KEY,v),void(r.innerHTML='<p class="gallery-thumb__name add">Add to favorite<svg width="16" height="16"><use href="'.concat(n,"#").concat("icon-like-icon",'"></use></svg></p>'))}var p=e(c)(m).concat([e(u)({},_)]);(0,f.setToLS)(h.FAVORITE_KEY,p),r.innerHTML='<p class="gallery-thumb__name add">Remove from favorite<svg width="16" height="16"><use href="'.concat(n,"#").concat("icon-like",'"></svg></p>')}}))}(E.readGalleryList)})),o.register("beht7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}})),o.register("fyAfh",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){n.default(e,t),t.add(e)};var r,n=(r=o("5k7tO"))&&r.__esModule?r:{default:r}})),o.register("5R40L",(function(e,t){e.exports=o("aNJCr").getBundleURL("ep4Vl")+o("iE7OH").resolve("6u7XD")})),o("iE7OH").register(JSON.parse('{"ep4Vl":"read.96681e89.js","ilJtq":"read.983afc32.css","6u7XD":"icon-card.42ade37b.svg"}'))}();
//# sourceMappingURL=read.96681e89.js.map
