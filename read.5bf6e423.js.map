{"mappings":"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","sources":["src/js/add-to-read.js","node_modules/@swc/helpers/lib/_class_private_method_get.js","node_modules/@swc/helpers/lib/_class_private_method_init.js","src/js/firebace/faribece-for-read.js","node_modules/@parcel/runtime-js/lib/runtime-0cc316a102d502de.js","node_modules/@parcel/runtime-js/lib/runtime-92dcb2065a107884.js"],"sourcesContent":["import Notiflix from 'notiflix';\nimport { initializeApp, firebase } from 'firebase/app';\nimport {\n  getDatabase,\n  set,\n  ref,\n  update,\n  get,\n  child,\n  userId,\n} from 'firebase/database';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n} from 'firebase/auth';\n\n//========================================================\n\nimport { markupForFavoritesAndRead } from './renderMarkup';\nimport { refs } from './refs/refs';\nimport { setToLS, getFromLS } from './local-storage-logic';\nimport Aos from 'aos';\nimport 'aos/dist/aos.css';\nimport { notFoundRef, FAVORITE_KEY, checkLS } from './add-to-favorite';\nimport { addToReadNews } from './firebace/faribece-for-read';\n\n//========================================================\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDD_Eh4tyvM30ivpTHWqfHo7r2h0gDev4Y',\n  authDomain: 'project-goit2023-js.firebaseapp.com',\n  databaseURL: 'https://project-goit2023-js-default-rtdb.firebaseio.com',\n  projectId: 'project-goit2023-js',\n  storageBucket: 'project-goit2023-js.appspot.com',\n  messagingSenderId: '407142734195',\n  appId: '1:407142734195:web:6d45ec3cdde16415370d06',\n  measurementId: 'G-VMY0EQ75TG',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst database = getDatabase(app);\nconst auth = getAuth();\nconst usersRef = ref(database, 'users');\n\n//==============================================================\n\n// import { sendEmailVerification } from 'firebase/auth';\nAos.init();\n\nconst READ_KEY = 'read_news';\n\nclass AddToRead {\n  isHomePage() {\n    const homePage = refs.galleryEl;\n    if (homePage) {\n      return true;\n    }\n    return false;\n  }\n  addListenersToHomePage() {\n    const linkReadMore = document.querySelectorAll('.thumb__link');\n    linkReadMore.forEach(link =>\n      link.addEventListener('click', this.#onReadClick)\n    );\n    // console.log(linkReadMore)\n  }\n\n  renderReadPage() {\n    //рендер маркапу\n    const dataFromLS = getFromLS(READ_KEY);\n    const markupTemplate = document.querySelector('#markup-template');\n    const template = markupTemplate.innerHTML;\n    markupTemplate.remove();\n    const result = this.#getDateLocalStorege(dataFromLS);\n    this.#generateAccordionHTML(result, template);\n    this.#createAccordion();\n  }\n\n  #getDateLocalStorege(dataFromLS) {\n    const objects = dataFromLS;\n    const dates = objects.map(obj => obj.LSDate);\n    const uniqueDates = dates.filter(\n      (LSDate, index) => dates.indexOf(LSDate) === index\n    );\n    const result = [];\n\n    uniqueDates.forEach(LSDate => {\n      const news = objects.filter(obj => obj.LSDate === LSDate);\n      result.push({ LSDate: LSDate, news: news });\n    });\n    // console.log(result);\n    return result;\n  }\n\n  #generateAccordionHTML(result, template) {\n    const listArticlesRef = document.querySelector('#accordion');\n    result.forEach(el => {\n      const section = template\n        .replaceAll('{{title}}', el.LSDate)\n        .replaceAll(\n          '{{card}}',\n          markupForFavoritesAndRead.createGalleryCardMarkup(el.news)\n        );\n\n      const div = document.createElement('div');\n      listArticlesRef.appendChild(div);\n      div.innerHTML = section;\n    });\n  }\n\n  #onReadClick(event) {\n    const targetItem = event.target.closest('.gallery__item');\n    const alreadyReadText = targetItem.querySelector('.gallery-thumb__already'); //Додали з Яною стилі на li щоб з'являлась надпис Alredy Read\n    // targetItem.classList.add('gallery__item--background'); //додаємо блюр на картку\n    targetItem.style.opacity = '0.7';\n    alreadyReadText.classList.add('gallery-thumb__already--show'); //opacity на картку\n\n    const img = () => {\n      const resWithoutStart = targetItem\n        .querySelector('.gallery-thumb')\n        .style.backgroundImage.split('');\n\n      resWithoutStart.splice(0, 5);\n      resWithoutStart.splice(-2, 2);\n      return resWithoutStart.join('');\n    };\n    const title = targetItem.querySelector('.gallery__title').textContent;\n    const text = targetItem.querySelector('.gallery__text').textContent;\n    const date = targetItem.querySelector('.thumb__text').textContent;\n    const id = targetItem.id;\n    const category = targetItem.querySelector(\n      '.gallery-thumb__subtitle'\n    ).textContent;\n    const LSDate = new Date().toLocaleDateString();\n    const url = targetItem.querySelector('.thumb__link').href;\n    const article = {\n      img: img(),\n      title,\n      text,\n      date,\n      id,\n      category,\n      url,\n      LSDate,\n    };\n    const dataFromLS = getFromLS(READ_KEY) || [];\n    // console.log(LSDate);\n    // добавляємо в localStorage\n    const present = dataFromLS.find(article => article.id === id);\n\n    // console.log(article);\n\n    // ========================================================================\n    const user = auth.currentUser;\n    if (user) {\n      const userId = user.uid;\n      addToReadNews(article, userId);\n    }\n\n    //=========================================================================\n\n    if (!present) {\n      setToLS(READ_KEY, [...dataFromLS, article], [LSDate]); // dataFromLS.push(article) // setToLS(READ_KEY, dataFromLS);\n    }\n  }\n  #createAccordion() {\n    $('#accordion').accordion({ header: 'h2', collapsible: true, heightStyle: 'panel',autoHeight: false, animated: false,});\n  }\n}\n\nexport const instance = new AddToRead(); // створює об'єкт  AddToRead\n\nif (instance.isHomePage()) {\n  //перевірка чи знаходишся на homePage\n  refs.galleryEl.addEventListener('build', () => {\n    instance.addListenersToHomePage(); //опрацьовую клік на readMore\n  });\n} else {\n  instance.renderReadPage(); //малюю readPage\n}\n\nconst readRefs = {\n  readGalleryList: document.querySelector('#read-news-list'),\n};\n\nif (document.title === 'Read') {\n  onLoadReadPage(readRefs.readGalleryList);\n}\n\nfunction onLoadReadPage(ref) {\n  const dataFromLS = getFromLS(READ_KEY);\n  const svgA = new URL('../images/icon-card.svg', import.meta.url);\n  const svgB = 'icon-like';\n  const svgC = 'icon-like-icon';\n  const svgD = 'icon-check';\n  notFoundRef.classList.add('not-found-box-hidden');\n  if (!dataFromLS.length) {\n    notFoundRef.classList.remove('not-found-box-hidden');\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth',\n    });\n    return;\n  }\n  if (ref === null) return;\n  ref.addEventListener('click', onGalleryClick);\n\n  // ref.innerHTML = markupForFavoritesAndRead.createGalleryCardMarkup(dataFromLS);\n\n  function onGalleryClick(event) {\n    const targetBtn = event.target.closest('.gallery-thumb__btn');\n    if (!targetBtn) {\n      return;\n    }\n\n    const targetItem = event.target.closest('.gallery__item');\n\n    const img = () => {\n      const resWithoutStart = targetItem\n        .querySelector('.gallery-thumb')\n        .style.backgroundImage.split('');\n\n      resWithoutStart.splice(0, 5);\n      resWithoutStart.splice(-2, 2);\n\n      return resWithoutStart.join('');\n    };\n    const title = targetItem.querySelector('.gallery__title').textContent;\n    const text = targetItem.querySelector('.gallery__text').textContent;\n    const date = targetItem.querySelector('.thumb__text').textContent;\n    const id = targetItem.id;\n    const category = targetItem.querySelector(\n      '.gallery-thumb__subtitle'\n    ).textContent;\n    const url = targetItem.querySelector('.thumb__link').href;\n    const article = { img: img(), title, text, date, id, category, url };\n    const dataFromLS = getFromLS(FAVORITE_KEY);\n    // добавляємо в localStorage\n    const present = dataFromLS.find(article => article.id === id);\n\n    // ===========================================================\n    // const user = auth.currentUser;\n    // if (user) {\n    //   const userId = user.uid;\n    //   addOrDeleteFavoriteNews(article, userId, targetBtn);\n    // }\n    // ===========================================================\n\n    if (present) {\n      const newData = dataFromLS.filter(article => article.id !== id);\n      setToLS(FAVORITE_KEY, newData);\n\n      // ===========================================================\n      // const user = auth.currentUser;\n      // if (user) {\n      //   const userId = user.uid;\n      //   addOrDeleteFavoriteNews(article, userId, targetBtn);\n      // }\n      // ===========================================================\n\n      targetBtn.innerHTML = `<p class=\"gallery-thumb__name add\">Add to favorite<svg width=\"16\" height=\"16\"><use href=\"${svgA}#${svgC}\"></use></svg></p>`;\n      return;\n    }\n\n    const newData = [...dataFromLS, { ...article }];\n    setToLS(FAVORITE_KEY, newData);\n    targetBtn.innerHTML = `<p class=\"gallery-thumb__name add\">Remove from favorite<svg width=\"16\" height=\"16\"><use href=\"${svgA}#${svgB}\"></svg></p>`;\n  }\n}\n\n// if (!dataFromLS.length && notFoundRef !== null) {\n//   notFoundRef.innerHTML = `<h2 class=\"not-found-title hidden\">You haven't added anything to favorite!</h2><img src=\"https://live.staticflickr.com/65535/52770181328_d91f5366f0_z.jpg\">`;\n//   return;\n// }\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodGet;\nfunction _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return fn;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classPrivateMethodInit;\nvar _checkPrivateRedeclaration = _interopRequireDefault(require(\"./_check_private_redeclaration\"));\nfunction _classPrivateMethodInit(obj, privateSet) {\n    (0, _checkPrivateRedeclaration).default(obj, privateSet);\n    privateSet.add(obj);\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import Notiflix from 'notiflix';\nimport { initializeApp, firebase } from 'firebase/app';\nimport {\n  getDatabase,\n  set,\n  ref,\n  update,\n  get,\n  child,\n  userId,\n} from 'firebase/database';\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  signInWithEmailAndPassword,\n  onAuthStateChanged,\n  signOut,\n} from 'firebase/auth';\n\nconst firebaseConfig = {\n  apiKey: 'AIzaSyDD_Eh4tyvM30ivpTHWqfHo7r2h0gDev4Y',\n  authDomain: 'project-goit2023-js.firebaseapp.com',\n  databaseURL: 'https://project-goit2023-js-default-rtdb.firebaseio.com',\n  projectId: 'project-goit2023-js',\n  storageBucket: 'project-goit2023-js.appspot.com',\n  messagingSenderId: '407142734195',\n  appId: '1:407142734195:web:6d45ec3cdde16415370d06',\n  measurementId: 'G-VMY0EQ75TG',\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst database = getDatabase(app);\nconst auth = getAuth();\nconst usersRef = ref(database, 'users');\n\nexport function addToReadNews(article, userId) {\n  const currentUser = auth.currentUser;\n\n  // console.log(currentUser);\n\n  get(usersRef)\n    .then(snapshot => {\n      const newsArr = [];\n      let articleExists = false;\n      snapshot.forEach(childSnapshot => {\n        const user = childSnapshot.val();\n        if (user.email.toLowerCase() === currentUser.email.toLowerCase()) {\n          // check if email matches\n          user.newsReadData.forEach(item => {\n            if (item.id === article.id) {\n              articleExists = true;\n            }\n          });\n\n          user.newsReadData.forEach(item => {\n            newsArr.push(item);\n          });\n        }\n      });\n\n      if (articleExists) {\n        console.log('Article already exists');\n        Notiflix.Notify.success('News already added to read');\n        return;\n      }\n      newsArr.push(article);\n      const filteredNewsArr = newsArr.filter(Boolean);\n\n      Notiflix.Notify.success('News added to read');\n\n      return update(ref(database, `users/${userId}`), {\n        newsReadData: filteredNewsArr,\n      })\n        .then(() => {\n          newsArr.splice(0, newsArr.length);\n        })\n        .catch(error => {\n          Notiflix.Notify.failure('Something went wrong, please try again');\n          console.error(error);\n        });\n    })\n    .catch(error => {\n      Notiflix.Notify.failure('Something went wrong, please try again');\n      console.error(error);\n    });\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bwyUR\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"fcKtx\\\":\\\"read.5bf6e423.js\\\",\\\"ilJtq\\\":\\\"read.983afc32.css\\\",\\\"bwyUR\\\":\\\"icon-card.42ade37b.svg\\\"}\"));"],"names":["$hl3Cc","parcelRequire","$b770d7ec3f5f609b$var$app","$gKkQl","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","$b770d7ec3f5f609b$var$database","$jAzyG","getDatabase","$b770d7ec3f5f609b$var$auth","$eyjy7","getAuth","ref","$parcel$interopDefault","$lL5zp","init","$b770d7ec3f5f609b$var$READ_KEY","$b770d7ec3f5f609b$var$_getDateLocalStorege","WeakSet","$b770d7ec3f5f609b$var$_generateAccordionHTML","$b770d7ec3f5f609b$var$_onReadClick","$b770d7ec3f5f609b$var$_createAccordion","$b770d7ec3f5f609b$var$getDateLocalStorege","dataFromLS","objects","dates","map","obj","LSDate","uniqueDates","filter","index","indexOf","result","forEach","news","push","$b770d7ec3f5f609b$var$generateAccordionHTML","template","listArticlesRef","document","querySelector","el","section","replaceAll","$cky31","markupForFavoritesAndRead","createGalleryCardMarkup","div","createElement","appendChild","innerHTML","$b770d7ec3f5f609b$var$onReadClick","event","targetItem","target","closest","alreadyReadText","style","opacity","classList","add","title","textContent","text","date","id","category","Date","toLocaleDateString","url","href","article1","img","resWithoutStart","backgroundImage","split","splice","join","$335mm","getFromLS","present","find","article","user","currentUser","userId1","uid","$kPZvK","addToReadNews","setToLS","$b770d7ec3f5f609b$var$createAccordion","$","accordion","header","collapsible","heightStyle","autoHeight","animated","$b770d7ec3f5f609b$export$9544d5bb712b01ea","isHomePage","$3ILHO","refs","galleryEl","addListenersToHomePage","querySelectorAll","link","addEventListener","this","renderReadPage","markupTemplate","remove","call","$8iF6T","$b770d7ec3f5f609b$var$readRefs","readGalleryList","ref1","dataFromLS1","svgA","URL","$jJkRO","notFoundRef","length","window","scrollTo","top","behavior","targetBtn","article2","FAVORITE_KEY","newData","$b770d7ec3f5f609b$var$onLoadReadPage","Object","defineProperty","module","exports","value","default","receiver","privateSet","fn","has","TypeError","$60afe4cd2804d2bb$var$_checkPrivateRedeclaration","__esModule","$7Y9D8","$f2b848de250f3eb3$var$app","$f2b848de250f3eb3$var$database","$f2b848de250f3eb3$var$auth","$f2b848de250f3eb3$var$usersRef","$f2b848de250f3eb3$export$c9d8abbd053546ec","get","then","snapshot","newsArr","articleExists","childSnapshot","val","email","toLowerCase","newsReadData","item","console","log","Notify","success","filteredNewsArr","Boolean","update","catch","error","failure","resolve","import","meta","toString","register","JSON","parse"],"version":3,"file":"read.5bf6e423.js.map"}