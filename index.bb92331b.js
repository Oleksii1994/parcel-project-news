function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a),a.register("fExtF",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}})),a.register("iaRLo",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return t.get?t.get.call(e):t.value}})),a.register("7K24o",(function(e,t){Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}}));const o=[{width:768,useClass:"mobile"},{width:1280,useClass:"tablet"}];function i(){const e=o,t=window.innerWidth,n=e.find((e=>t<=e.width));let r;r=n?n.useClass:"desktop",document.body.classList.forEach((e=>{e.startsWith("screen-")&&document.body.classList.remove(e)})),document.body.classList.add(`screen-${r}`)}window.addEventListener("resize",i),window.addEventListener("DOMContentLoaded",i);var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e,t){var n=c.default(e,t,"get");return l.default(e,n)};var c=u(a("fExtF")),l=u(a("iaRLo"));function u(e){return e&&e.__esModule?e:{default:e}}var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default=function(e,t,n){f.default(e,t),t.set(e,n)};var h,f=(h=a("7K24o"))&&h.__esModule?h:{default:h};var p=new WeakMap,m=new WeakMap,y=new WeakMap,g=new WeakMap,v=new WeakMap;const w=new class{async fetchSearchArticles(){const t=new URLSearchParams({q:this.searchQuery,fq:this.filterQuery,"api-key":e(s)(this,g),page:this.currentPage,offset:8}),n=`${e(s)(this,p)}${e(s)(this,m)}${new URLSearchParams(t)}`,r=await fetch(n);this.errorHandle(r);const{response:{docs:a,meta:o}}=await r.json();return console.log(class{static formatDate(e){const t=new Date(e);return`${t.getDate()}/${t.getMonth()+1}/${t.getFullYear()}`}static searchData(e){return e.map((({abstract:e,headline:t,pub_date:n,uri:r,multimedia:a,section_name:o})=>{let i="";return i=0!==a.length?`https://www.nytimes.com/${a[0].url}`:"https://media.tenor.com/_3uPSgb8o5gAAAAC/ukraine-ukraine-flag.gif",{title:t.print_headline,text:e,date:this.formatDate(n),img:i,category:o,id:r}}))}}.searchData(a)),{docs:a,meta:o}}async fetchCategories(){const t=`${e(s)(this,p)}${e(s)(this,y)}api-key=${e(s)(this,g)}`,n=await fetch(t);this.errorHandle(n,n.statusText);const{results:r}=await n.json();return r}async fetchPopularArticles(){const t=`${e(s)(this,p)}${e(s)(this,v)}api-key=${e(s)(this,g)}`,n=await fetch(t);this.errorHandle(n,n.statusText);const{results:r}=await n.json();return r}async fetchArticlesByCategory(){const t=`news/v3/content/nyt/${this.category}.json?`,n=`${e(s)(this,p)}${t}api-key=${e(s)(this,g)}`,r=await fetch(n);this.errorHandle(r,r.statusText);const{results:a}=await r.json();return a}errorHandle(e,t){if(!e.ok)throw new Error(`Sorry, an error occurred: ${t}`)}set query(e){this.searchQuery=e}get query(){return this.searchQuery}get page(){return this.currentPage}set page(e){this.currentPage=e}constructor(){e(d)(this,p,{writable:!0,value:"https://api.nytimes.com/svc/"}),e(d)(this,m,{writable:!0,value:"search/v2/articlesearch.json?"}),e(d)(this,y,{writable:!0,value:"news/v3/content/section-list.json?"}),e(d)(this,g,{writable:!0,value:"kkEdLmiWAben4vvAV9iKuhykdEAlksXW"}),e(d)(this,v,{writable:!0,value:"mostpopular/v2/viewed/7.json?"}),this.searchQuery="",this.filterQuery="",this.category="all",this.currentPage=1}};w.query="covid",w.fetchSearchArticles();(()=>{const e=document.querySelector(".js-menu-container"),t=document.querySelector(".js-open-menu"),n=document.querySelector(".js-close-menu"),r=()=>{const n="true"===t.getAttribute("aria-expanded")||!1;t.setAttribute("aria-expanded",!n),e.classList.toggle("is-open");bodyScrollLock[n?"enableBodyScroll":"disableBodyScroll"](document.body)};t.addEventListener("click",r),n.addEventListener("click",r),window.matchMedia("(min-width: 768px)").addEventListener("change",(n=>{n.matches&&(e.classList.remove("is-open"),t.setAttribute("aria-expanded",!1),bodyScrollLock.enableBodyScroll(document.body))}))})();var b;function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";return e<10?t+e:e},E=function(e){return"".concat(e.getFullYear(),"-").concat(S(e.getMonth()+1),"-").concat(S(e.getDate()))},L=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},x=function(e){return new Promise((function(t){var n=[],r=M(e).map((function(e){return{date:e.date,iso:e.iso,type:"previous"}})),a=k(e).map((function(e){return{date:e.date,iso:e.iso,type:"current"}}));n=n.concat(r).concat(a);var o=$(e,n.length).map((function(e){return{date:e.date,iso:e.iso,type:"next"}}));t(n.concat(o))}))},D=function(e){return function(t){return Array(e).fill().map(t)}},k=function(e){var t=L(e);return D(t)((function(t,n){var r=n+1;return e.setDate(r),{date:r,iso:E(e)}}))},M=function(e){var t,n,r=e.getMonth(),a=e.getFullYear(),o=Math.min(r-1,11),i=new Date(a,o),s=L(i),c=s-(t=e,n=new Date(t.getFullYear(),t.getMonth(),1).toDateString().substring(0,3),["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].indexOf(n))+1;return D(s-c+1)((function(e,t){var n=c+t;return i.setDate(n),{date:n,iso:E(i)}}))},$=function(e,t){var n=42-t,r=e.getMonth()+1===12?0:e.getMonth()+1,a=0===r?e.getFullYear()+1:e.getFullYear(),o=new Date(a,r);return D(n)((function(e,t){var n=t+1;return o.setDate(n),{date:n,iso:E(o)}}))};b=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return n=[{key:"getDates",value:function(e){return new Promise((function(t){return t(x(e).then((function(e){return e.map((function(e){return e}))})))}))}},{key:"getMatrix",value:function(e){return new Promise((function(t){t(x(e).then((function(e){return e.reduce((function(e,t,n){return(n%7==0?e.push([t]):e[e.length-1].push(t))&&e}),[])})))}))}}],_((t=e).prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();const q={currentDate:document.querySelector(".month__data"),daysTag:document.querySelector(".day"),prevIcon:document.querySelector(".month__arrow--prev"),nextIcon:document.querySelector(".month__arrow--next"),inputEl:document.querySelector(".calendar__input"),dataEl:document.querySelector(".calendar__text"),pickerEl:document.querySelector(".picker"),iconDownEl:document.querySelector(".calendar__down"),iconUpEl:document.querySelector(".calendar__up"),iconStartEl:document.querySelector(".calendar__icon--start")},T=["January","February","March","April","May","June","July","August","September","October","November","December"];let j=new Date,A=j.getFullYear(),P=j.getMonth(),C=j.getDate(),F="",O="";console.log(q.inputEl);const U=new(e(b));q.inputEl.addEventListener("click",(function(e){W(),q.pickerEl.classList.toggle("hidden"),q.iconDownEl.classList.toggle("hidden"),q.iconUpEl.classList.toggle("hidden"),q.pickerEl.classList.contains("hidden")||(q.inputEl.classList.add("calendar__open"),q.iconUpEl.classList.add("calendar__open"),q.iconStartEl.classList.add("calendar__open"))}));const W=async()=>{const e=new Date(A,P);q.daysTag.innerHTML="",O="";for(const{date:t,iso:n,type:r}of await U.getDates(e))Y(t,n,r);q.daysTag.innerHTML=O,q.currentDate.innerText=`${T[P]} ${A}`};function Y(e,t,n){O+="previous"===n?`<li class="day__item inactive--prev">${e}</li>`:"current"===n?`<li class="day__item">${e}</li>`:`<li class="day__item inactive--next">${e}</li>`}function R(e,t,n){return-1===t&&(t=11,e-=1),12===t&&(t=0,e+=1),q.dataEl.textContent=`${n.toString().padStart(2,"0")}/${(t+1).toString().padStart(2,"0")}/${e}`,F=q.dataEl.textContent,q.pickerEl.classList.add("hidden"),q.iconDownEl.classList.remove("hidden"),q.iconUpEl.classList.add("hidden"),q.inputEl.classList.remove("calendar__open"),q.iconUpEl.classList.remove("calendar__open"),q.iconStartEl.classList.remove("calendar__open"),localStorage.setItem("CURRENT_DATA",JSON.stringify(F)),F}q.prevIcon.addEventListener("click",(()=>{P-=1,P<0||P>11?(date=new Date(A,P,(new Date).getDate()),A=date.getFullYear(),P=date.getMonth()):j=new Date,W()})),q.nextIcon.addEventListener("click",(()=>{P+=1,P<0||P>11?(date=new Date(A,P,(new Date).getDate()),A=date.getFullYear(),P=date.getMonth()):j=new Date,W()})),q.daysTag.addEventListener("click",(e=>{if("LI"===e.target.nodeName)return e.target.classList.contains("inactive--prev")?(q.currDay=+e.target.textContent,R(A,P-1,C)):e.target.classList.contains("inactive--next")?(q.currDay=+e.target.textContent,R(A,P+1,C)):(C=+e.target.textContent,R(A,P,C))}));const H={body:document.querySelector("body"),themeSwitch:document.querySelector("#theme-switch"),lightThemeBox:document.querySelector(".light-theme-box"),darkThemeBox:document.querySelector(".dark-theme-box"),formSearch:document.querySelector(".form-search")};H.formSearch.addEventListener("submit",(function(e){e.preventDefault(),console.log("submit")})),document.addEventListener("click",(function(e){if(!document.body.classList.contains("screen-mobile"))return;const t=e.target.closest(".form-search");if(!t){if(H.formSearch.elements.searchValue.value.trim())return;return H.formSearch.elements.searchValue.style.transform="scale(0)",H.formSearch.elements.button.style.left="",void(H.formSearch.elements.button.style.right="14px")}t.elements.searchValue.style.transform="scale(1)",t.elements.button.style.left="14px",t.elements.button.style.right=""}));
//# sourceMappingURL=index.bb92331b.js.map
