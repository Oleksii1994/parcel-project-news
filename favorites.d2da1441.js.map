{"mappings":"6DAAO,IAAMA,EAAO,CAChBC,QAASC,SAASC,cAAc,cAChCC,KAAMF,SAASC,cAAc,uB,cCDjCE,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU,oC,WCG5B,SAASC,EAAkBC,EAAQC,GAC/B,IAAI,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAI,CACjC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDhB,OAAOC,eAAeQ,EAAQI,EAAWI,IAAKJ,E,EAftDb,OAAOC,eAAeiB,EAAS,aAAc,CACzCf,OAAO,IAEXe,EAAQd,QACR,SAAsBE,EAAaa,EAAYC,GACvCD,GAAYX,EAAkBF,EAAYe,UAAWF,GACrDC,GAAaZ,EAAkBF,EAAac,GAChD,OAAOd,C,ECRX,IAAAgB,EA2BG,W,sBA3BGC,EACQC,G,wBACVC,KAAKC,OAASF,EACdC,KAAKC,OAAOC,UAAUC,IAAI,gBAC1BH,KAAKC,OAAOG,iBAAiB,SAAS,W,OAAMC,EAAKC,gB,oBAEnDd,IAAA,iB,MAAA,WACMQ,KAAKC,OAAOC,UAAUK,SAAS,iBACjCP,KAAKQ,gBACIR,KAAKC,OAAOC,UAAUK,SAAS,eACxCP,KAAKS,oB,IAITjB,IAAA,gB,MAAA,WACEQ,KAAKC,OAAOS,YAAc,kBAC1BV,KAAKC,OAAOC,UAAUS,OAAO,iBAC7BX,KAAKC,OAAOC,UAAUC,IAAI,a,IAG5BX,IAAA,qB,MAAA,WACEQ,KAAKC,OAAOS,YAAc,uBAC1BV,KAAKC,OAAOC,UAAUS,OAAO,cAC7BX,KAAKC,OAAOC,UAAUC,IAAI,gB,OAI3B,IAAI,SAA4BJ,GACjC,OAAO,IAAIF,EAAeE,E,EChBb,CAAmBA,eAE3BK,iBAAiB,QAASQ,GAGuB,IAApDC,ECRyB,SAAArB,GAC3B,IACE,IAAMsB,EAAkBC,aAAaC,QAAQxB,GAC7C,OAA2B,OAApBsB,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,EDG7B,CARK,aAQ0B,GAGC,SAAvCV,IACP,GAAyB,IAArBC,EAAU1B,OAAd,CAEAjB,EAAKI,KAAK4B,UAAUC,IAAI,UAE2B,IAA7CoB,EAAQV,EAAUW,WAAU,SAAAC,G,OAAQA,EAAKC,QAAUC,KAAKD,K,KAEhD,IAAVH,EAEmCV,EAA3Be,KAAK,CACbF,MAAOC,KAAKD,MACZG,KAAM,IAAIC,OAM4BjB,EAA9BkB,OAAOR,EAAO,GAKI,IAA1BS,EAASnB,EAAUoB,IAAIC,EAAAC,yBAAyBC,KAAK,IACzDlE,EAAKC,QAAQkE,UAAYL,CAtBG,C,CAyB9B1B,eAAeO,GAEfD,G","sources":["src/js/refs/fav-refs.js","node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/changeBtn.js","src/js/add-to-favorite.js","src/js/local-storage-logic.js"],"sourcesContent":["export const refs = {\n    newList: document.querySelector('.news-list'),\n    text: document.querySelector('.favorite-notfound'),\n  };\n  ","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","class FavoriteButton {\n  constructor(buttonElement) {\n    this.button = buttonElement;\n    this.button.classList.add('favorite-btn');\n    this.button.addEventListener('click', () => this.onChangeButton());\n  }\n  onChangeButton() {\n    if (this.button.classList.contains('delete-button')) {\n      this.setToFavorite();\n    } else if (this.button.classList.contains('add-button')) {\n      this.removeFromFavorite();\n    }\n  }\n\n  setToFavorite() {\n    this.button.textContent = 'Add to favorite';\n    this.button.classList.remove('delete-button');\n    this.button.classList.add('add-button');\n  }\n\n  removeFromFavorite() {\n    this.button.textContent = 'Remove from favorite';\n    this.button.classList.remove('add-button');\n    this.button.classList.add('delete-button');\n  }\n}\n\nexport function initFavoriteButton(buttonElement) {\n  return new FavoriteButton(buttonElement);\n}\n\n\n// import { initFavoriteButton } from \"../js/changeBtn\";\n\n// function renderGalleryCards(cardsData) {\n//   const cardsContainer = document.querySelector(\".gallery__item-container\");\n//   cardsContainer.innerHTML = cardsData.map(renderMarkupGalleryCard).join(\"\");\n\n//   cardsData.forEach((cardData) => {\n//     const cardElement = document.getElementById(cardData.id);\n//     const favoriteButtonElement = cardElement.querySelector(\".favorite-btn\");\n//     initFavoriteButton(favoriteButtonElement);\n//   });\n// }\n\n// // Замініть `cardsData` на масив об'єктів з даними карточок\n// const cardsData = [\n//   // ...\n// ];\n\n// renderGalleryCards(cardsData);","import { refs } from '../js/refs/fav-refs';\nimport {\n  saveToLocal,\n  loadFromLocal,\n  removeFromLocal,\n} from '../js/local-storage-logic';\nimport { renderMarkupGalleryCard } from '../js/renderMarkup';\n// import { fetchSearchArticles } from '../js/API/fetchAPI';\nimport { initFavoriteButton } from '../js/changeBtn';\nconst KEY_FAVORITE = 'favorite';\n\n// const buttonElement = document.querySelector('.favorite-button');\nconst favBtn = initFavoriteButton(buttonElement);\n\nfavBtn.addEventListener('click', addToFavorites);\n\n// Отримуємо список збережених новин з локального сховища браузера\nlet favorites = loadFromLocal(KEY_FAVORITE) || [];\n\n// Функція для додавання новини до списку збережених новин\nfunction addToFavorites() {\n  if (favorites.length === 0) return;\n\n  refs.text.classList.add('hidden');\n  // Перевіряємо, чи новина вже додана до списку збережених новин\n  const index = favorites.findIndex(item => item.title === news.title);\n\n  if (index === -1) {\n    // Якщо новина не додана до списку, то додаємо її\n    favorites.push({\n      title: news.title,\n      date: new Date(),\n    });\n    // Змінюємо текст кнопки на \"RemoveFromFavorite\"\n    // favBtn.textContent = 'Remove from favorite';\n  } else {\n    // Якщо новина вже додана до списку, то видаляємо її\n    favorites.splice(index, 1);\n    // Змінюємо текст кнопки на \"AddToFavorite\"\n    // favBtn.textContent = 'Add to favorite';\n  }\n  // Рендерем новину і додаєм її у список\n  let markup = favorites.map(renderMarkupGalleryCard).join('');\n  refs.newList.innerHTML = markup;\n}\n\nonChangeButton(favorites);\n\naddToFavorites();\n\n// Зберігаємо список збережених новин в локальному сховищі браузера\n// localStorage.setItem(KEY_FAVORITE, JSON.stringify(favorites));\n","export const saveToLocal = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\nexport const loadFromLocal = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\nexport const removeFromLocal = key => {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.error('Remove state error: ', error.message);\n  }\n};\n\n// export default {\n//   saveToLocal,\n//   loadFromLocal,\n//   removeFromLocal\n// };\n"],"names":["$fd77a5d1bdaf37cc$export$21666b427502ea6d","newList","document","querySelector","text","Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$27424ef5e405b55a$var$FavoriteButton","FavoriteButton","buttonElement","this","button","classList","add","addEventListener","_this","onChangeButton","contains","setToFavorite","removeFromFavorite","textContent","remove","$959d9972f598b799$var$addToFavorites","$959d9972f598b799$var$favorites","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","index","findIndex","item","title","news","push","date","Date","splice","markup","map","$3a6dece2d99f3b9c$exports","renderMarkupGalleryCard","join","innerHTML"],"version":3,"file":"favorites.d2da1441.js.map"}